generate_url_test_md()(
rm -rf "$(x wsroot)/.x-cmd/url_check/$dir"
    cd $(x wsroot)/src

    for dir in *; do
    (
        cd "$dir" || continue
        mkdir -p "$(x wsroot)/.x-cmd/url_check/$dir"
        for pkg in *; do

            case $pkg in
                *-todo) continue ;;
            esac
            
            touch "$(x wsroot)/.x-cmd/url_check/$dir/$pkg.yml"
            (
                printf "%s\n " "$pkg" >&2

                while read -r osarch; do
                    x pkg ls all "$pkg" |  while read -r version; do
                        url=$(___x_cmd_pkg___list "$pkg" "$version" "$osarch" "url.cn")
                        echo "$url"
                    done


                done <<A
linux/x64
linux/arm64
darwin/x64
darwin/arm64
win/x64
A

            )  >> "$(x wsroot)/.x-cmd/url_check/$dir/$pkg.yml" &
        done

    )
done
)

generate_url_test_md